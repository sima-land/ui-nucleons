"use strict";(self.webpackChunk_sima_land_ui_nucleons=self.webpackChunk_sima_land_ui_nucleons||[]).push([[6411],{"./src/hooks/__stories__/keydown.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>keydown_stories});var react=__webpack_require__("./node_modules/react/index.js"),identity=__webpack_require__("./src/hooks/identity.ts"),on=__webpack_require__("./src/helpers/on.ts");function useKeydown(targetKey,callback){const ref=(0,identity.y)(callback);(0,react.useEffect)((()=>(0,on.on)(document,"keydown",(event=>{const handler=ref.current;(event.key===targetKey||event.code===targetKey)&&handler?.(event)}))),[targetKey])}var get_declination=__webpack_require__("./src/helpers/get-declination.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const keydown_stories={title:"hooks/useKeydown",component:useKeydown,parameters:{storySource:{source:"import { useKeydown } from '@sima-land/ui-nucleons/hooks/keydown';\nimport { getDeclination } from '@sima-land/ui-nucleons/helpers/get-declination';\nimport { useState } from 'react';\nexport default {\n  title: 'hooks/useKeydown',\n  component: useKeydown,\n  parameters: {\n    layout: 'padded'\n  }\n};\nexport function Primary() {\n  const [count, setCount] = useState<number>(0);\n  const key = 'Space';\n  useKeydown(key, () => {\n    setCount(c => c + 1);\n  });\n  return <>\n      Клавиша {key} была нажата {count} {getDeclination(count, ['раз', 'раза', 'раз'])}\n    </>;\n}\nPrimary.storyName = 'Простой пример';\nPrimary.parameters = {\n  ...Primary.parameters,\n  docs: {\n    ...Primary.parameters?.docs,\n    source: {\n      originalSource: \"function Primary() {\\n  const [count, setCount] = useState<number>(0);\\n  const key = 'Space';\\n  useKeydown(key, () => {\\n    setCount(c => c + 1);\\n  });\\n  return <>\\n      \\u041A\\u043B\\u0430\\u0432\\u0438\\u0448\\u0430 {key} \\u0431\\u044B\\u043B\\u0430 \\u043D\\u0430\\u0436\\u0430\\u0442\\u0430 {count} {getDeclination(count, ['\\u0440\\u0430\\u0437', '\\u0440\\u0430\\u0437\\u0430', '\\u0440\\u0430\\u0437'])}\\n    </>;\\n}\",\n      ...Primary.parameters?.docs?.source\n    }\n  }\n};",locationsMap:{primary:{startLoc:{col:7,line:11},endLoc:{col:1,line:20},startBody:{col:7,line:11},endBody:{col:1,line:20}}}},layout:"padded"}},Primary=function Primary(){const[count,setCount]=(0,react.useState)(0);return useKeydown("Space",(()=>{setCount((c=>c+1))})),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Клавиша ","Space"," была нажата ",count," ",(0,get_declination.p)(count,["раз","раза","раз"])]})};Primary.storyName="Простой пример",Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"function Primary() {\n  const [count, setCount] = useState<number>(0);\n  const key = 'Space';\n  useKeydown(key, () => {\n    setCount(c => c + 1);\n  });\n  return <>\n      Клавиша {key} была нажата {count} {getDeclination(count, ['раз', 'раза', 'раз'])}\n    </>;\n}",...Primary.parameters?.docs?.source}}};const __namedExportsOrder=["Primary"]},"./src/helpers/get-declination.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getDeclination(number,titles){const positiveNumber=Math.abs(number);return titles[positiveNumber%100>4&&positiveNumber%100<20?2:[2,0,1,1,1,2][positiveNumber%10<5?positiveNumber%10:5]]}__webpack_require__.d(__webpack_exports__,{p:()=>getDeclination})},"./src/helpers/on.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function on(target,eventNames,callback,options){const eventNamesList=eventNames.split(" "),wrapped=e=>callback(e);return eventNamesList.forEach((eventName=>{target.addEventListener(eventName,wrapped,options)})),()=>{eventNamesList.forEach((eventName=>{target.removeEventListener(eventName,wrapped,options)}))}}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__,on:()=>on});const __WEBPACK_DEFAULT_EXPORT__=on},"./src/hooks/identity.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>useIdentityRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const useIdentityRef=value=>{const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);return ref.current=value,ref}}}]);